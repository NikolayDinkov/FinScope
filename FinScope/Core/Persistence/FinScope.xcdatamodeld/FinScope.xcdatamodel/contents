<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<model type="com.apple.IDECoreDataModeler.DataModel" documentVersion="1.0" lastSavedToolsVersion="23231" systemVersion="24A335" minimumToolsVersion="Automatic" sourceLanguage="Swift" usedWithSwiftData="NO">
    <entity name="UserMO" representedClassName="UserMO" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="email" optional="YES" attributeType="String"/>
        <attribute name="createdAt" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="accounts" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="AccountMO" inverseName="user" inverseEntity="AccountMO"/>
        <relationship name="budgets" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="BudgetMO" inverseName="user" inverseEntity="BudgetMO"/>
        <relationship name="portfolios" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="PortfolioMO" inverseName="user" inverseEntity="PortfolioMO"/>
        <relationship name="forecasts" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="ForecastMO" inverseName="user" inverseEntity="ForecastMO"/>
    </entity>
    <entity name="AccountMO" representedClassName="AccountMO" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="type" attributeType="String"/>
        <attribute name="currency" attributeType="String"/>
        <attribute name="createdAt" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="user" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="UserMO" inverseName="accounts" inverseEntity="UserMO"/>
        <relationship name="transactions" optional="YES" toMany="YES" deletionRule="Deny" destinationEntity="TransactionMO" inverseName="account" inverseEntity="TransactionMO"/>
    </entity>
    <entity name="TransactionMO" representedClassName="TransactionMO" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="amount" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="originalAmount" optional="YES" attributeType="Decimal"/>
        <attribute name="originalCurrency" optional="YES" attributeType="String"/>
        <attribute name="date" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="note" optional="YES" attributeType="String"/>
        <attribute name="isRecurring" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
        <attribute name="recurringInterval" optional="YES" attributeType="String"/>
        <attribute name="type" attributeType="String"/>
        <attribute name="createdAt" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="account" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="AccountMO" inverseName="transactions" inverseEntity="AccountMO"/>
        <relationship name="category" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="CategoryMO" inverseName="transactions" inverseEntity="CategoryMO"/>
    </entity>
    <entity name="CategoryMO" representedClassName="CategoryMO" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="icon" optional="YES" attributeType="String"/>
        <attribute name="type" attributeType="String"/>
        <relationship name="transactions" optional="YES" toMany="YES" deletionRule="Nullify" destinationEntity="TransactionMO" inverseName="category" inverseEntity="TransactionMO"/>
        <relationship name="parent" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="CategoryMO" inverseName="children" inverseEntity="CategoryMO"/>
        <relationship name="children" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="CategoryMO" inverseName="parent" inverseEntity="CategoryMO"/>
        <relationship name="budgetRules" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="BudgetRuleMO" inverseName="category" inverseEntity="BudgetRuleMO"/>
    </entity>
    <entity name="BudgetMO" representedClassName="BudgetMO" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="period" attributeType="String"/>
        <attribute name="startDate" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="endDate" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="totalLimit" optional="YES" attributeType="Decimal"/>
        <relationship name="user" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="UserMO" inverseName="budgets" inverseEntity="UserMO"/>
        <relationship name="rules" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="BudgetRuleMO" inverseName="budget" inverseEntity="BudgetRuleMO"/>
    </entity>
    <entity name="BudgetRuleMO" representedClassName="BudgetRuleMO" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="ruleType" attributeType="String"/>
        <attribute name="limitAmount" optional="YES" attributeType="Decimal"/>
        <attribute name="percentage" optional="YES" attributeType="Decimal"/>
        <relationship name="budget" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="BudgetMO" inverseName="rules" inverseEntity="BudgetMO"/>
        <relationship name="category" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="CategoryMO" inverseName="budgetRules" inverseEntity="CategoryMO"/>
    </entity>
    <entity name="PortfolioMO" representedClassName="PortfolioMO" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="createdAt" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="user" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="UserMO" inverseName="portfolios" inverseEntity="UserMO"/>
        <relationship name="investments" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="InvestmentMO" inverseName="portfolio" inverseEntity="InvestmentMO"/>
    </entity>
    <entity name="InvestmentMO" representedClassName="InvestmentMO" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="assetType" attributeType="String"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="initialCapital" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="monthlyContribution" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="expectedReturn" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="riskProfile" attributeType="String"/>
        <attribute name="taxRate" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="inflationRate" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="startDate" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="durationMonths" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
        <relationship name="portfolio" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="PortfolioMO" inverseName="investments" inverseEntity="PortfolioMO"/>
    </entity>
    <entity name="ForecastMO" representedClassName="ForecastMO" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="createdAt" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="projectionMonths" attributeType="Integer 32" defaultValueString="0" usesScalarValueType="YES"/>
        <attribute name="resultJSON" attributeType="String"/>
        <relationship name="user" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="UserMO" inverseName="forecasts" inverseEntity="UserMO"/>
    </entity>
</model>
